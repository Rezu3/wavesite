<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Exam Portal - Multi Subject</title>
    <link rel="stylesheet" href="/static/css/exam.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div class="container">
        <!-- Login Section -->
        <div id="login-section" class="section active">
            <div class="login-container">
                <div class="login-header">
                    <i class="fas fa-graduation-cap"></i>
                    <h1>Exam Portal</h1>
                    <p class="subtitle">Multi-Subject Examination System</p>
                </div>
                
                <div class="login-form">
                    <div class="form-group">
                        <label for="username">
                            <i class="fas fa-user"></i> Name
                        </label>
                        <input type="text" id="username" placeholder="Enter your username">
                    </div>
                    
                    <div class="form-group">
                        <label for="password">
                            <i class="fas fa-lock"></i> Password
                        </label>
                        <input type="password" id="password" placeholder="Enter your password">
                    </div>
                    
                    <div id="login-error" class="error-message"></div>
                    
                    <button id="login-btn" class="btn">
                        <i class="fas fa-sign-in-alt"></i> Login to Portal
                    </button>
                    
                    <div class="exam-info">
                        <h3><i class="fas fa-info-circle"></i> Portal Features</h3>
                        <p><i class="fas fa-check-circle"></i> Multiple Subjects Available</p>
                        <p><i class="fas fa-check-circle"></i> Individual Security System</p>
                        <p><i class="fas fa-check-circle"></i> Instant Results</p>
                        <p><i class="fas fa-check-circle"></i> Mobile Responsive</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Subject Selection Section -->
        <div id="subject-selection-section" class="section hidden">
            <div class="subject-selection-container">
                <div class="subject-header">
                    <h1><i class="fas fa-book-open"></i> Select Your Subject</h1>
                    <div class="user-welcome">
                        <i class="fas fa-user-graduate"></i>
                        <span id="logged-in-user-subject">User</span>
                    </div>
                </div>
                
                <div class="subject-scroll-container">
                    <div class="subject-list" id="subject-list">
                        <!-- Subjects will be dynamically loaded here -->
                    </div>
                </div>
                
                <div class="scroll-hint">
                    <i class="fas fa-arrows-alt-h"></i>
                    <span>Swipe or drag to see more subjects</span>
                </div>
            </div>
        </div>

        <!-- Exam Info Section -->
        <div id="exam-info-section" class="section hidden">
            <div class="exam-info-card">
                <div class="exam-header">
                    <h1><i class="fas fa-file-alt"></i> Exam Instructions</h1>
                    <div class="back-warning">
                        <i class="fas fa-exclamation-triangle"></i>
                        <span>Back button will be disabled after starting exam</span>
                    </div>
                </div>
                
                <div class="instructions">
                    <h2 id="selected-subject-name">Subject Name</h2>
                    
                    <div class="instruction-list">
                        <div class="instruction-item">
                            <i class="fas fa-clock"></i>
                            <div>
                                <h3>Duration</h3>
                                <p id="exam-duration">10 minutes</p>
                            </div>
                        </div>
                        
                        <div class="instruction-item">
                            <i class="fas fa-star"></i>
                            <div>
                                <h3>Marks</h3>
                                <p id="exam-marks">20 marks</p>
                            </div>
                        </div>
                        
                        <div class="instruction-item">
                            <i class="fas fa-list-ol"></i>
                            <div>
                                <h3>Questions</h3>
                                <p id="exam-questions">20 multiple choice questions</p>
                            </div>
                        </div>
                        
                        <div class="instruction-item">
                            <i class="fas fa-check-circle"></i>
                            <div>
                                <h3>Navigation</h3>
                                <p>You can navigate between questions and answer later</p>
                            </div>
                        </div>
                        
                        <div class="instruction-item">
                            <i class="fas fa-user-shield"></i>
                            <div>
                                <h3>Individual Security</h3>
                                <p>If you leave the exam, only <strong>you</strong> will be blocked for 5 minutes</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="warning-box">
                        <i class="fas fa-exclamation-circle"></i>
                        <p><strong>Warning:</strong> Once you start the exam, you cannot go back or refresh the page. Make sure you have stable internet connection.</p>
                    </div>
                </div>
                
                <div class="start-exam-area">
                    <div class="timer-info">
                        <i class="fas fa-hourglass-start"></i>
                        <span>Timer will start immediately after clicking Start</span>
                    </div>
                    
                    <button id="start-exam-btn" class="btn start-btn">
                        <i class="fas fa-play-circle"></i> Start Exam
                    </button>
                    
                    <button id="back-to-subjects-btn" class="btn back-btn">
                        <i class="fas fa-arrow-left"></i> Back to Subjects
                    </button>
                </div>
            </div>
        </div>

        <!-- Exam Section -->
        <div id="exam-section" class="section hidden">
            <div class="exam-container">
                <!-- Exam Header -->
                <div class="exam-header-bar">
                    <div class="exam-title">
                        <h1><i class="fas fa-file-alt"></i> <span id="exam-subject">Subject</span> - Exam</h1>
                        <p class="exam-desc" id="exam-info-display">20 Marks | 10 Minutes</p>
                    </div>
                    
                    <div class="timer-container">
                        <div class="timer">
                            <i class="fas fa-clock"></i>
                            <span id="timer">10:00</span>
                        </div>
                        <div class="questions-progress">
                            <span id="current-question">1</span>/<span id="total-questions">10</span>
                        </div>
                    </div>
                </div>
                
                <!-- Questions Container -->
                <div class="questions-container" id="questions-container">
                    <!-- Questions will be inserted here by JavaScript -->
                </div>
                
                <!-- Navigation and Submit -->
                <div class="exam-footer">
                    <div class="navigation-buttons">
                        <button id="prev-btn" class="nav-btn">
                            <i class="fas fa-arrow-left"></i> Previous
                        </button>
                        <button id="next-btn" class="nav-btn">
                            Next <i class="fas fa-arrow-right"></i>
                        </button>
                    </div>
                    
                    <div class="submit-area">
                        <div class="answered-count">
                            <i class="fas fa-check-circle"></i>
                            <span id="answered-count">0</span> questions answered
                        </div>
                        
                        <button id="submit-exam-btn" class="btn submit-btn">
                            <i class="fas fa-paper-plane"></i> Submit Exam
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Results Section -->
        <div id="result-section" class="section hidden">
            <div class="result-container">
                <div class="result-header">
                    <i class="fas fa-medal"></i>
                    <h1>Exam Results</h1>
                    <p class="subject-name" id="result-subject">Subject - Examination</p>
                </div>
                
                <div class="score-card">
                    <div class="score-circle">
                        <svg width="120" height="120">
                            <circle cx="60" cy="60" r="54" stroke="#e0e0e0" stroke-width="8" fill="none"></circle>
                            <circle id="score-circle" cx="60" cy="60" r="54" stroke="#4CAF50" stroke-width="8" 
                                    fill="none" stroke-dasharray="339.292" stroke-dashoffset="339.292"></circle>
                        </svg>
                        <div class="score-text">
                            <span id="score-percentage">0%</span>
                            <small>Score</small>
                        </div>
                    </div>
                    
                    <div class="score-details">
                        <div class="score-item">
                            <h3><i class="fas fa-check-circle"></i> Correct Answers</h3>
                            <p id="correct-answers">0</p>
                        </div>
                        
                        <div class="score-item">
                            <h3><i class="fas fa-times-circle"></i> Wrong Answers</h3>
                            <p id="wrong-answers">0</p>
                        </div>
                        
                        <div class="score-item">
                            <h3><i class="fas fa-clock"></i> Time Taken</h3>
                            <p id="time-taken">0:00</p>
                        </div>
                        
                        <div class="score-item">
                            <h3><i class="fas fa-star"></i> Marks Obtained</h3>
                            <p id="marks-obtained">0/20</p>
                        </div>
                    </div>
                </div>
                
                <div class="result-summary">
                    <h2><i class="fas fa-chart-bar"></i> Performance Summary</h2>
                    <div id="performance-text" class="performance-text">
                        <!-- Performance text will be inserted here -->
                    </div>
                </div>
                
                <div class="result-actions">
                    <button id="review-btn" class="btn">
                        <i class="fas fa-redo"></i> Review Answers
                    </button>
                    <button id="new-exam-btn" class="btn">
                        <i class="fas fa-home"></i> Return to Login
                    </button>
                </div>
            </div>
        </div>

        <!-- Blocked Re-entry Message -->
        <div id="blocked-section" class="section hidden">
            <div class="blocked-container">
                <div class="blocked-icon">
                    <i class="fas fa-user-lock"></i>
                </div>
                <h1>Access Temporarily Blocked</h1>
                <p class="blocked-message">
                    <span id="blocked-username">User</span>, you have left the exam session.
                </p>
                <div class="countdown-box">
                    <i class="fas fa-hourglass-half"></i>
                    <span>You can try again in: <span id="countdown-timer">05:00</span></span>
                </div>
                <p class="blocked-info">
                    <i class="fas fa-info-circle"></i>
                    Only your account is blocked. Other users can still take the exam.
                </p>
                <button id="return-login-btn" class="btn">
                    <i class="fas fa-home"></i> Return to Login
                </button>
            </div>
        </div>
    </div>

    <script src="/static/js/exam.js"></script>
</body>
</html>
